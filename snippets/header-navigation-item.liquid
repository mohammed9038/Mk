{%- comment -%}
  Professional Navigation Item Snippet
  Renders individual navigation menu items with dropdown support
{%- endcomment -%}

{%- if link.links != blank -%}
  {%- comment -%} Menu item with dropdown {%- endcomment -%}
  <li class="top-nav__item">
    <header-menu>
      <details id="Details-HeaderMenu-{{ forloop.index }}">
        <summary class="top-nav__link focus-inset" aria-expanded="false">
          <span{% if link.child_active %} class="header__active-menu-item"{% endif %}>
            {{- link.title | escape -}}
          </span>
          {%- if dropdown_enabled -%}
            <svg class="icon icon-caret" viewBox="0 0 10 6" fill="none" style="width: 10px; height: 6px; margin-left: 8px;">
              <path d="M1 1l4 4 4-4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          {%- endif -%}
        </summary>
        <ul class="header__submenu list-unstyled" role="list" tabindex="-1">
          {%- for childlink in link.links -%}
            <li class="header__submenu-item">
              <a href="{{ childlink.url }}" class="header__menu-item focus-inset{% if childlink.current %} list-menu__item--active{% endif %}"
                 {% if childlink.current %}aria-current="page"{% endif %}>
                {{ childlink.title | escape }}
              </a>
            </li>
          {%- endfor -%}
        </ul>
      </details>
    </header-menu>
  </li>
{%- else -%}
  {%- comment -%} Regular menu item {%- endcomment -%}
  <li class="top-nav__item">
    <a href="{{ link.url }}" class="top-nav__link link focus-inset{% if link.current %} top-nav__link--active{% endif %}">
      {{ link.title | escape }}
    </a>
  </li>
{%- endif -%}