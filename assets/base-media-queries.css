/* ===================================================================
   OPTIMIZED MEDIA QUERIES - Consolidated breakpoint management
   =================================================================== */

/* Mobile First Approach - Base styles are mobile by default */

/* Small Mobile adjustments (up to 374px) */
@media screen and (max-width: 374px) {
  .page-width {
    padding: 0 1rem;
  }
  
  .button--small {
    padding: 1rem 2rem;
    min-width: 8rem;
  }
}

/* Mobile/Tablet boundary (375px to 749px) */
@media screen and (max-width: 749px) {
  /* Grid adjustments */
  .grid--2-col-tablet-down .grid__item {
    width: calc(50% - var(--grid-mobile-horizontal-spacing) / 2);
  }
  
  .grid--1-col-tablet-down .grid__item {
    width: 100%;
    max-width: 100%;
  }
  
  /* Header adjustments */
  .header__heading,
  .header__heading-link {
    text-align: center;
  }
  
  /* Product specific */
  .product__media-container {
    margin-bottom: 2rem;
  }
  
  /* Utility bar */
  .utility-bar .utility-bar__grid .list-social {
    display: none;
  }
}

/* Tablet (750px to 989px) */
@media screen and (min-width: 750px) and (max-width: 989px) {
  /* Grid system */
  .grid--2-col-tablet .grid__item {
    grid-column: span 1;
  }
  
  .grid--3-col-tablet .grid__item {
    width: calc(33.33% - var(--grid-desktop-horizontal-spacing) * 2 / 3);
  }
  
  .grid--4-col-tablet .grid__item {
    width: calc(25% - var(--grid-desktop-horizontal-spacing) * 3 / 4);
  }
  
  /* Page width adjustments */
  .page-width--narrow {
    padding: 0 9rem;
  }
  
  .page-width-tablet {
    padding: 0 5rem;
  }
}

/* Tablet and up (750px+) */
@media screen and (min-width: 750px) {
  /* Typography */
  body {
    font-size: 1.6rem;
  }
  
  h1, .h1 {
    font-size: calc(var(--font-heading-scale) * 4rem);
  }
  
  h2, .h2 {
    font-size: calc(var(--font-heading-scale) * 2.4rem);
  }
  
  h3, .h3 {
    font-size: calc(var(--font-heading-scale) * 1.8rem);
  }
  
  h5, .h5 {
    font-size: calc(var(--font-heading-scale) * 1.3rem);
  }
  
  /* Layout */
  .page-width {
    padding: 0 5rem;
  }
  
  .header.page-width,
  .utility-bar__grid.page-width {
    padding-left: 3.2rem;
    padding-right: 3.2rem;
  }
  
  .element-margin {
    margin-top: calc(5rem + var(--page-width-margin));
  }
  
  .section + .section {
    margin-top: var(--spacing-sections-desktop);
  }
  
  /* Grid system */
  .grid {
    column-gap: var(--grid-desktop-horizontal-spacing);
    row-gap: var(--grid-desktop-vertical-spacing);
  }
  
  .grid--2-col .grid__item {
    width: calc(50% - var(--grid-desktop-horizontal-spacing) / 2);
  }
  
  .grid--3-col .grid__item {
    width: calc(33.33% - var(--grid-desktop-horizontal-spacing) * 2 / 3);
  }
  
  /* Product */
  .product__column-sticky {
    display: block;
    position: sticky;
    top: 3rem;
    z-index: 2;
  }
  
  .product__info-wrapper {
    padding: 0 0 0 5rem;
  }
  
  /* Blockquote */
  blockquote {
    padding-left: 1.5rem;
  }
}

/* Desktop (990px+) */
@media screen and (min-width: 990px) {
  /* Header adjustments */
  .header:not(.drawer-menu).page-width {
    padding-left: 5rem;
    padding-right: 5rem;
  }
  
  .header__heading,
  .header__heading-link {
    justify-self: start;
  }
  
  .header--middle-center .header__heading-link,
  .header--middle-center .header__heading {
    justify-self: center;
    text-align: center;
  }
  
  /* Page width */
  .page-width--narrow {
    max-width: 72.6rem;
    padding: 0;
  }
  
  .page-width-desktop {
    max-width: var(--page-width);
    padding: 0 5rem;
  }
  
  /* Grid system */
  .grid--6-col-desktop .grid__item {
    width: calc(16.66% - var(--grid-desktop-horizontal-spacing) * 5 / 6);
    max-width: calc(16.66% - var(--grid-desktop-horizontal-spacing) * 5 / 6);
  }
  
  .grid--5-col-desktop .grid__item {
    width: calc(20% - var(--grid-desktop-horizontal-spacing) * 4 / 5);
    max-width: calc(20% - var(--grid-desktop-horizontal-spacing) * 4 / 5);
  }
  
  .grid--4-col-desktop .grid__item {
    width: calc(25% - var(--grid-desktop-horizontal-spacing) * 3 / 4);
    max-width: calc(25% - var(--grid-desktop-horizontal-spacing) * 3 / 4);
  }
  
  .grid--3-col-desktop .grid__item {
    width: calc(33.33% - var(--grid-desktop-horizontal-spacing) * 2 / 3);
    max-width: calc(33.33% - var(--grid-desktop-horizontal-spacing) * 2 / 3);
  }
  
  .grid--2-col-desktop .grid__item {
    width: calc(50% - var(--grid-desktop-horizontal-spacing) / 2);
    max-width: calc(50% - var(--grid-desktop-horizontal-spacing) / 2);
  }
  
  .grid--1-col-desktop {
    flex: 0 0 100%;
    max-width: 100%;
  }
  
  .grid--1-col-desktop .grid__item {
    width: 100%;
    max-width: 100%;
  }
  
  /* Product specific */
  .product__media-container .slider-buttons {
    display: block;
  }
  
  /* Utility bar */
  .utility-bar__grid--3-col {
    grid-template-columns: 3fr 4fr 3fr;
    grid-template-areas: 'social-icons announcements search';
  }
}

/* Large Desktop (1200px+) */
@media screen and (min-width: 1200px) {
  .page-width {
    max-width: 140rem;
  }
  
  .product__info-wrapper--extra-padding {
    padding: 0 0 0 8rem;
  }
  
  .product--right .product__info-wrapper--extra-padding {
    padding: 0 8rem 0 0;
  }
}

/* Animation and Motion Preferences */
@media (prefers-reduced-motion: no-preference) {
  .scroll-trigger.animate--fade-in {
    animation: animateFadeIn var(--animation-duration) ease forwards;
  }
  
  .scroll-trigger.animate--slide-in {
    animation: animateSlideIn var(--animation-duration) ease forwards;
  }
}

@media (prefers-reduced-motion) {
  .scroll-trigger {
    animation: none !important;
    opacity: 1 !important;
    transform: none !important;
  }
}

/* High Contrast Mode Support */
@media (forced-colors: active) {
  .button,
  .shopify-challenge__button,
  .customer button {
    border: transparent solid 1px;
  }
  
  .button:focus-visible,
  .button:focus,
  .button.focused {
    outline: solid transparent 1px;
  }
  
  .field__input:focus,
  .select__select:focus,
  .customer .field input:focus,
  .customer select:focus {
    outline: 2px solid;
  }
}
