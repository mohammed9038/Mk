/* ===================================================================
   OPTIMIZED GRID SYSTEM - Replaces repetitive grid calculations
   =================================================================== */

.grid {
  display: grid;
  gap: var(--grid-gap-vertical-mobile) var(--grid-gap-mobile);
  margin-bottom: 2rem;
  padding: 0;
  list-style: none;
}

@media screen and (min-width: 750px) {
  .grid {
    gap: var(--grid-gap-vertical-desktop) var(--grid-gap-desktop);
  }
}

.grid:last-child {
  margin-bottom: 0;
}

/* Modern Grid Layouts - Replace calc() heavy approach */
.grid--auto {
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
}

.grid--1-col {
  grid-template-columns: 1fr;
}

.grid--2-col {
  grid-template-columns: repeat(2, 1fr);
}

.grid--3-col {
  grid-template-columns: repeat(3, 1fr);
}

.grid--4-col {
  grid-template-columns: repeat(4, 1fr);
}

.grid--5-col {
  grid-template-columns: repeat(5, 1fr);
}

.grid--6-col {
  grid-template-columns: repeat(6, 1fr);
}

/* Responsive Grid Variations */
@media screen and (max-width: 749px) {
  .grid--2-col-mobile {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .grid--1-col-mobile {
    grid-template-columns: 1fr;
  }
}

@media screen and (min-width: 750px) and (max-width: 989px) {
  .grid--2-col-tablet {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .grid--3-col-tablet {
    grid-template-columns: repeat(3, 1fr);
  }
  
  .grid--4-col-tablet {
    grid-template-columns: repeat(4, 1fr);
  }
}

@media screen and (min-width: 990px) {
  .grid--2-col-desktop {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .grid--3-col-desktop {
    grid-template-columns: repeat(3, 1fr);
  }
  
  .grid--4-col-desktop {
    grid-template-columns: repeat(4, 1fr);
  }
  
  .grid--5-col-desktop {
    grid-template-columns: repeat(5, 1fr);
  }
  
  .grid--6-col-desktop {
    grid-template-columns: repeat(6, 1fr);
  }
}

/* Special Grid Modifiers */
.grid--gapless {
  gap: 0;
}

.grid--peek {
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
}

.grid--peek > * {
  scroll-snap-align: start;
  flex-shrink: 0;
}

/* Legacy support for .grid__item if needed 
   Modern grid handles sizing automatically, but keeping class for backward compatibility */

/* Flexbox fallback for older implementations */
@supports not (display: grid) {
  .grid {
    display: flex;
    flex-wrap: wrap;
    margin-left: calc(-1 * var(--grid-gap-mobile));
  }
  
  .grid > * {
    margin-left: var(--grid-gap-mobile);
    flex: 1 1 auto;
  }
}
