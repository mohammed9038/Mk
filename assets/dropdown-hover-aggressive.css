/* Aggressive dropdown hover fixes */

/* Remove all default hiding mechanisms */
.js details > .header__submenu,
.js .header__inline-menu details > .header__submenu,
header-menu details > .header__submenu {
  opacity: 0;
  visibility: hidden;
  transition: all 0.2s ease !important;
}

/* Show on open attribute */
.js details[open] > .header__submenu,
.js .header__inline-menu details[open] > .header__submenu,
header-menu details[open] > .header__submenu,
details.menu-opening > .header__submenu {
  opacity: 1 !important;
  visibility: visible !important;
  transform: translateY(0) !important;
  pointer-events: auto !important;
}

/* Hover states - controlled by JavaScript */
header-menu .list-menu__item:hover details,
.header__inline-menu .list-menu__item:hover details {
  position: relative;
}

/* Ensure proper z-index stacking */
header-menu {
  z-index: 1000;
}

header-menu .header__submenu,
.header__inline-menu .header__submenu {
  z-index: 1001 !important;
}

/* Remove any conflicting animations */
@keyframes animateMenuOpen {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Override with our own animation */
details[open] > .header__submenu {
  animation: animateMenuOpen 0.2s ease forwards !important;
}

/* Specific targeting for Shopify's structure */
.header__inline-menu details[open] .list-menu--disclosure,
header-menu details[open] .list-menu--disclosure {
  opacity: 1 !important;
  visibility: visible !important;
}

/* Target the actual menu lists */
#HeaderMenu-MenuList-1,
#HeaderMenu-MenuList-2,
#HeaderMenu-MenuList-3,
#HeaderMenu-MenuList-4,
#HeaderMenu-MenuList-5,
#HeaderMenu-MenuList-6,
#HeaderMenu-MenuList-7,
#HeaderMenu-MenuList-8 {
  transition: all 0.2s ease !important;
}

/* When details has open attribute, show these menus */
details[open] #HeaderMenu-MenuList-1,
details[open] #HeaderMenu-MenuList-2,
details[open] #HeaderMenu-MenuList-3,
details[open] #HeaderMenu-MenuList-4,
details[open] #HeaderMenu-MenuList-5,
details[open] #HeaderMenu-MenuList-6,
details[open] #HeaderMenu-MenuList-7,
details[open] #HeaderMenu-MenuList-8 {
  opacity: 1 !important;
  visibility: visible !important;
  display: block !important;
  transform: translateY(0) !important;
}
