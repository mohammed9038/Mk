/* Desktop Navigation Dropdown Enhancements */
@media screen and (min-width: 990px) {
  /* Main menu item positioning */
  .header__inline-menu .list-menu--inline > li {
    position: relative;
  }
  
  /* Dropdown menu styling */
  .header__inline-menu .header__submenu {
    position: absolute !important;
    top: 100% !important;
    left: 0 !important;
    background: rgb(var(--color-background)) !important;
    border: 1px solid rgba(var(--color-border), 0.2) !important;
    border-radius: 0.8rem !important;
    box-shadow: 0 0.4rem 2rem rgba(0, 0, 0, 0.1) !important;
    min-width: 22rem !important;
    max-width: 30rem !important;
    opacity: 0 !important;
    visibility: hidden !important;
    transform: translateY(-1rem) !important;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    z-index: 100 !important;
    padding: 0.8rem 0 !important;
    margin: 0 !important;
    overflow: hidden !important;
  }
  
  /* Show dropdown on hover */
  .header__inline-menu .list-menu--inline > li:hover .header__submenu,
  .header__inline-menu .list-menu--inline > li:focus-within .header__submenu,
  .header__inline-menu header-menu:hover .header__submenu,
  .header__inline-menu header-menu:focus-within .header__submenu {
    opacity: 1 !important;
    visibility: visible !important;
    transform: translateY(0) !important;
  }
  
  /* Override details behavior for hover */
  .header__inline-menu header-menu details:not([open]):hover .header__submenu,
  .header__inline-menu header-menu details:focus-within .header__submenu {
    opacity: 1 !important;
    visibility: visible !important;
    transform: translateY(0) !important;
    display: block !important;
  }
  
  /* Submenu items */
  .header__inline-menu .header__submenu > li {
    display: block !important;
    margin: 0 !important;
    border-bottom: 1px solid rgba(var(--color-border), 0.05) !important;
  }
  
  .header__inline-menu .header__submenu > li:last-child {
    border-bottom: none !important;
  }
  
  /* Submenu links */
  .header__inline-menu .header__submenu .header__menu-item {
    display: block !important;
    padding: 1rem 1.8rem !important;
    color: rgb(var(--color-foreground)) !important;
    text-decoration: none !important;
    font-size: 1.4rem !important;
    font-weight: 400 !important;
    transition: all 0.2s ease !important;
    border-radius: 0 !important;
    border: none !important;
    background: transparent !important;
    width: 100% !important;
    text-align: left !important;
  }
  
  .header__inline-menu .header__submenu .header__menu-item:hover,
  .header__inline-menu .header__submenu .header__menu-item:focus {
    background: rgba(var(--color-base-accent-1), 0.08) !important;
    color: rgb(var(--color-base-accent-1)) !important;
    padding-left: 2.2rem !important;
    transform: translateX(0.4rem) !important;
  }
  
  /* Active submenu item */
  .header__inline-menu .header__submenu .list-menu__item--active {
    background: rgba(var(--color-base-accent-1), 0.1) !important;
    color: rgb(var(--color-base-accent-1)) !important;
    font-weight: 600 !important;
  }
  
  /* Multi-level dropdown positioning */
  .header__inline-menu .header__submenu .header__submenu {
    left: 100% !important;
    top: 0 !important;
    margin-left: 0.5rem !important;
  }
  
  /* Show nested dropdowns on hover */
  .header__inline-menu .header__submenu li:hover > .header__submenu {
    opacity: 1 !important;
    visibility: visible !important;
    transform: translateY(0) !important;
  }

  /* Ensure proper spacing for dropdown arrows */
  .header__inline-menu .header__menu-item svg {
    transition: transform 0.2s ease !important;
    margin-left: 0.5rem !important;
  }
  
  /* Rotate arrow on hover */
  .header__inline-menu .list-menu--inline > li:hover .header__menu-item svg,
  .header__inline-menu header-menu:hover .header__menu-item svg {
    transform: rotate(180deg) !important;
  }
  
  /* Override details open state styling */
  .header__inline-menu header-menu details[open] .header__submenu {
    opacity: 1 !important;
    visibility: visible !important;
    transform: translateY(0) !important;
  }
  
  /* Remove default details marker */
  .header__inline-menu details summary::-webkit-details-marker {
    display: none !important;
  }
  
  .header__inline-menu details summary::marker {
    display: none !important;
  }
  
  /* Smooth animation */
  .header__inline-menu details[open] summary ~ * {
    animation: dropdownSlide 0.3s ease-in-out !important;
  }
  
  @keyframes dropdownSlide {
    0% {
      opacity: 0;
      transform: translateY(-1rem);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  /* Ensure dropdowns work on both hover and click */
  .header__inline-menu header-menu:hover details:not([open]) summary ~ ul,
  .header__inline-menu li:hover details:not([open]) summary ~ ul {
    display: block !important;
  }
}
